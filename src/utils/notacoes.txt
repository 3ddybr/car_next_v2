 Ao usar set() para criar um documento, vocÃª precisa especificar um ID para ele. Exemplo:

 import { doc, setDoc } from "firebase/firestore";

 await setDoc(doc(db, "cities", "new-city-id"), data);